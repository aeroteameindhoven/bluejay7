<?xml version="1.0"?>
<launch>
    <arg name="map" default="$(find bluejay_gazebo)/worlds/maps/willow_full.yaml"/>

    <!-- Launch mavros + gazebo + px4 -->
    <include file="$(find bluejay_gazebo)/launch/bluejay_gazebo.launch"></include>

    <node pkg="map_server" type="map_server" name="map_server" args ="$(arg map)"/>

    <!-- Launch rqt_reconfigure -->
    <node pkg="rqt_reconfigure" type="rqt_reconfigure" output="screen" name="rqt_reconfigure" />

    <!-- Launch static_transform_publisher -->
    <node pkg="tf" type="static_transform_publisher" name="laser_base_link" args="0 0 0 0 0 0 base_link_frd /rplidar_link 20"/>
  <!--  <node pkg="tf" type="static_transform_publisher" name="map_to_odom" args="0 0 0 0 0 0 map /odom 50"/>
    <node pkg="tf" type="static_transform_publisher" name="odom_to_baselink" args="0 0 0 0 0 0 odom /base_link 50"/> -->

    <!-- Launch rviz -->
    <node type="rviz" name="rviz" pkg="rviz" args="-d $(find bluejay_gazebo)/resource/bluejay_rviz.rviz" />
</launch>
